<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>RPS</title>
</head>
<body>

  <div id="game">
    <button onClick="getPlayerChoice('rock')">Rock</button>
    <button onClick="getPlayerChoice('paper')">Paper</button>
    <button onClick="getPlayerChoice('scissors')">Scissors</button>
    <h2 id="result"></h2>
    <div id ="roundInfo"></div>
    <br>
    <br>
    <button onClick="reset()">RESET</button>
</div>

<h3>Player Score</h3>
<div id="score1"></div>
<h3>Computer Score</h3>
<div id="score2"></div>
  <script>

let playerScore = 0;
let computerScore = 0;


   
function getPlayerChoice(choose){
    playerSelection = choose;
    game();
    document.getElementById("score1").textContent = playerScore;
    document.getElementById("score2").textContent = computerScore;
    if (playerScore === 5) {
        document.getElementById("result").textContent = ("User wins! " + playerScore + " - " + computerScore);
      }
    else if (computerScore === 5) {
        document.getElementById("result").textContent = ("Computer wins! " + computerScore + " - " + playerScore)
      }
}

function reset(click){
    playerScore = 0;
    computerScore = 0;
    document.getElementById("score1").textContent = playerScore;
    document.getElementById("score2").textContent = computerScore;
    document.getElementById("result").textContent = "Game in Progress..";
    document.getElementById("roundInfo").textContent = ""
    }

    
    function getComputerChoice() { 
      let computerNumber = Math.floor((Math.random()*3)+1);
        if (computerNumber === 1) {
          return "rock";
    }   else if (computerNumber === 2) {
          return "paper";
    }   else {
          return "scissors";
        }
    }
    

    function playRound(playerSelection, computerSelection) {
      if (computerSelection === playerSelection) {
        return "Draw"
      }
      else if ((computerSelection === "paper" && playerSelection == "rock") ||
         (computerSelection === "scissors" && playerSelection == "paper") ||
         (computerSelection === "rock" && playerSelection == "scissors")) {
        return "Computer"
      } 
      else if ((computerSelection === "paper" && playerSelection == "scissors") ||
         (computerSelection === "scissors" && playerSelection == "rock") ||
         (computerSelection === "rock" && playerSelection == "paper")) {
          return "Player"
      }
    }

    
    function winLose(playerSelection, computerSelection) {
    const result = playRound(playerSelection, computerSelection);
    if (result == "Draw") {
        document.getElementById("roundInfo").textContent = "It's a draw!"
    }
    else if(result == "Player") {
      document.getElementById("roundInfo").textContent = `You win! ${playerSelection} beats ${computerSelection}`
    }
    else {
      document.getElementById("roundInfo").textContent = `You lose! ${computerSelection} beats ${playerSelection}`
    }
    }

    
    function game() {
      const computerSelection = getComputerChoice();
      console.log(winLose(playerSelection, computerSelection));
      if (playRound(playerSelection, computerSelection) == "Player") {
        return playerScore++;
      }
      else if (playRound(playerSelection, computerSelection) == "Computer") {
        return computerScore++;     
      }
 
      if (playerScore === 5) {
        document.getElementById("result").textContent = ("User wins! " + playerScore + " - " + computerScore);
      }
      else if (computerScore === 5) {
        document.getElementById("result").textContent = ("Computer wins! " + computerScore + " - " + playerScore)
      }
      
  }
</script>
</body>
</html>